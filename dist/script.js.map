{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/Bullet.es6","src/CanvasView.es6","src/KeyView.es6","src/Particle.es6","src/Player.es6","src/StartLevel.es6","src/levels.json","src/script.es6"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Bullet","player","_classCallCheck","this","width","height","x","y","ySpeed","color","isDead","canvas","Math","abs","particle","CanvasView","c","document","getElementById","ctx","getContext","clearRect","char","fillStyle","fillRect","start","level","background","font","textAlign","align","strokeText","gameResult","score","end","KeyView","_this","left","right","space","enter","addEventListener","keyBoardDown","keyCode","keyBoardUp","Particle","multiplier","xSpeed","widthStandard","heightStandard","gravity","canvasWidth","canvasHeight","Player","xPos","life","alive","speed","shooted","weapon","yPos","value","move","key","outline","hit","setTimeout","innerHTML","StartLevel","backgroundColor","startGame","level0","level1","level2","level3","level4","Controller","part","bullets","area","canvasValues","levels","getHighscores","gameSetup","name","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","setRequestHeader","send","contr","showHighscores","JSON","parse","data","showScores","sortedScores","sortResults","forEach","savedScore","createElement","className","highscore","appendChild","highscores","sort","b","levelObj","push","drawStart","startValues","pressed","loop","_this2","message","drawEnd","prompt","loadDoc","location","reload","_this3","clear","p","draw","posPart","hitByPlayer","hitted","filter","bullet","scoreTotal","totalScore","Object","keys","window","requestAnimationFrame"],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","class Bullet {\n    constructor(player){\n        this.width = 1;\n        this.height = 1;\n        this.x = player.x+(player.width/2);\n        this.y = player.y+(player.height);\n        this.ySpeed = -5;\n        this.color = \"#00f\";\n        this.isDead = false;\n    }\n\n    move(canvas) {\n        this.height += this.ySpeed;\n\n        if (Math.abs(this.height) >= canvas.height) {\n            this.isDead = true;\n        }\n    }\n\n    hit(particle) {\n        if (!particle) return;\n        if ((particle.x + particle.width >= this.x)\n            && (particle.x <= this.x)\n            && (particle.y + particle.height >= this.y + this.height)) {\n            this.isDead = true;\n            return true;\n        }\n        return false;\n    }\n\n    get bullet() {\n        return { x: this.x, y: this.y, width: this.width, height: this.height, color: this.color };\n    }\n\n}\n\nmodule.exports = Bullet;","class CanvasView {\n    constructor() {\n        this.c = document.getElementById(\"myCanvas\");\n        this.ctx = this.c.getContext(\"2d\");\n    }\n\n    clear() {\n        this.ctx.clearRect(0, 0, this.c.width, this.c.height);\n    }\n\n    draw(char) {\n        this.ctx.fillStyle = char.color;\n        this.ctx.fillRect(char.x, char.y, char.width, char.height);\n    }\n\n    drawStart(start, level) {\n        this.ctx.fillStyle = start.background;\n        this.ctx.fillRect(0, 0, this.c.width, this.c.height);\n        this.ctx.font = start.font;\n        this.ctx.fillStyle = start.color;\n        this.ctx.textAlign = start.align;\n        this.ctx.strokeText(\"Druk op enter om Level \"+level+\" te starten\",this.c.width/2,start.y);\n        this.ctx.strokeText(\"Schieten: spatie. Lopen: Pijltoetsen\",this.c.width/2,50);\n    }\n\n    drawEnd (gameResult, score, end) {\n        this.ctx.fillStyle = end.background;\n        this.ctx.fillRect(0, 0, this.c.width, this.c.height);\n        this.ctx.font = end.font;\n        this.ctx.fillStyle = end.color;\n        this.ctx.textAlign = end.align;\n        this.ctx.strokeText(gameResult+\" Score: \"+score,this.c.width/2,end.y);\n    }\n\n    get canvasValues() {\n        return { width: this.c.width, height: this.c.height };\n    }\n}\n\nmodule.exports = CanvasView;","class KeyView {\n    constructor(){\n        this.left  = false;\n        this.right = false;\n        this.space = false;\n        this.enter = false;\n\n        document.addEventListener(\"keydown\", (keyBoardDown) => {\n            this.right = keyBoardDown.keyCode == 39;\n            this.left = keyBoardDown.keyCode == 37;\n            this.space = keyBoardDown.keyCode == 32;\n            this.enter = keyBoardDown.keyCode == 13;\n        });\n\n        document.addEventListener(\"keyup\", (keyBoardUp) => {\n            if (keyBoardUp.keyCode == 39) { this.right = false; }\n            else if (keyBoardUp.keyCode == 37) { this.left = false; }\n            else if (keyBoardUp.keyCode == 32) { this.space = false; }\n            else if (keyBoardUp.keyCode == 32) { this.enter = false; }\n        });\n    }\n\n    get pressed() {\n        return { left: this.left, right: this.right, space: this.space, enter: this.enter };\n    }\n}\n\nmodule.exports = KeyView;","class Particle {\n    constructor(multiplier, xSpeed, ySpeed, x, y) {\n        this.widthStandard = 10;\n        this.heightStandard = 10;\n        this.multiplier = multiplier;\n        this.xSpeed = xSpeed;\n        this.ySpeed = ySpeed;\n        this.isDead = false;\n        this.color = \"rgba(23,44,56,1)\";\n        this.gravity = -1.001;\n        this.width = this.widthStandard*this.multiplier;\n        this.height = this.heightStandard*this.multiplier;\n        this.x = x;\n        this.y = y;\n    }\n\n    area(canvas) {\n        this.canvasWidth = canvas.width;\n        this.canvasHeight = canvas.height;\n    }\n\n    move() {\n        this.ySpeed += 0.1;\n        this.y += this.ySpeed;\n        this.x += this.xSpeed;\n        if (this.y >= this.canvasHeight-this.height) {\n            this.y = this.canvasHeight-this.height;\n            this.ySpeed *= this.gravity;\n        }\n        if (this.x >= this.canvasWidth-this.width) {\n            this.x = this.canvasWidth-this.width;\n            this.xSpeed *= this.gravity;\n        }\n        if (this.x <= 0) {\n            this.x = 0;\n            this.xSpeed = 1;\n        }\n    }\n\n    hitted() {\n        if (this.multiplier <= 1) {\n            this.isDead = true;\n        }\n        else {\n            this.multiplier = this.multiplier/2;\n            this.width = this.widthStandard*this.multiplier;\n            this.height = this.heightStandard*this.multiplier;\n            this.ySpeed *= this.gravity;\n            return true\n        }\n        return false;\n    }\n\n    get posPart() {\n        return {width: this.width, height: this.height, x: this.x, y: this.y, color: this.color};\n    }\n}\n\nmodule.exports = Particle;","class Player {\n    constructor() {\n        this.width = 20;\n        this.height = 20;\n        this.xPos = 0;\n        this.life = 1;\n        this.alive = true;\n        this.speed = 2;\n        this.color = \"rgba(67,234,12,1)\";\n        this.shooted = false;\n        this.weapon = \"normal\";\n        this.level = 0;\n        this.score = 0;\n    }\n\n    area(canvas) {\n        this.canvasWidth = canvas.width;\n        this.canvasHeight = canvas.height;\n\n        this.yPos = this.canvasHeight-this.height;\n    }\n\n    key(value) {\n        if (value.left || value.right) {\n            this.move(value);\n        }\n\n        if (value.space) {\n            this.shooted = true;\n        }\n        return this.shooted;\n    }\n\n    move(key) {\n        if (key.left && !key.right) this.xPos -= this.speed;\n        if (key.right && !key.left) this.xPos += this.speed;\n\n        this.outline();\n        this.hit();\n    }\n\n    outline() {\n        this.xPos <= 0 ? this.xPos = 0 : void 0; //linker lijn\n        this.xPos >= this.canvasWidth-this.width ? this.xPos = this.canvasWidth-this.width : void 0; //rechter lijn\n    }\n\n    hit(particle) {\n\n        if (!particle) return;\n        if ((particle.x + particle.width >= this.xPos)\n            && (particle.x <= this.xPos + this.width)\n            && (particle.y + particle.height >= this.yPos)\n            && (particle.y <= this.yPos + this.height)) {\n\n            this.life = this.life - 1;\n            this.color = \"rgba(255,0,0,1)\";\n            setTimeout(()=>{ this.color = \"rgba(0,254,0,1)\";}, 100);\n            return true;\n        }\n        return false;\n    }\n\n    scoreTotal() {\n        document.getElementById(\"score\").innerHTML = \"Jouw score: \"+this.score;\n    }\n\n    getLife() {\n        this.life += 3;\n    }\n\n    get player() {\n        return {\n            width: this.width,\n            height: this.height,\n            x: this.xPos,\n            y: this.yPos,\n            color: this.color,\n            life: this.life,\n            weapon: this.weapon,\n            level: this.level\n        };\n    }\n}\n\nmodule.exports = Player;","class StartLevel {\n    constructor() {\n        this.backgroundColor = \"#ff0\"\n        this.x = 50;\n        this.y = 250;\n        this.font = \"20px Arial\";\n        this.color = \"#000\";\n        this.align = \"center\";\n        this.startGame = false;\n    }\n\n    get startValues() {\n        return {\n            background: this.backgroundColor,\n            y: this.y,\n            font: this.font,\n            color: this.color,\n            align: this.align\n        };\n    }\n}\n\nmodule.exports = StartLevel;","module.exports={\n  \"level0\":[\n    {\"multiplier\":1, \"xSpeed\":1, \"ySpeed\": 4, \"x\":100 , \"y\":350 },\n    {\"multiplier\":1, \"xSpeed\":1, \"ySpeed\": 4, \"x\":300 , \"y\":350 },\n    {\"multiplier\":1, \"xSpeed\":1, \"ySpeed\": 4, \"x\":500 , \"y\":350 }\n  ],\n  \"level1\":[\n    {\"multiplier\":2, \"xSpeed\":1, \"ySpeed\": 4, \"x\":100 , \"y\":350 },\n    {\"multiplier\":2, \"xSpeed\":1, \"ySpeed\": 4, \"x\":300 , \"y\":350 }\n  ],\n  \"level2\":[\n    {\"multiplier\":2, \"xSpeed\":1, \"ySpeed\": 4, \"x\":100 , \"y\":350 },\n    {\"multiplier\":2, \"xSpeed\":1, \"ySpeed\": 4, \"x\":500 , \"y\":350 },\n    {\"multiplier\":1, \"xSpeed\":1, \"ySpeed\": 4, \"x\":200 , \"y\":350 },\n    {\"multiplier\":1, \"xSpeed\":1, \"ySpeed\": 4, \"x\":300 , \"y\":350 },\n    {\"multiplier\":1, \"xSpeed\":1, \"ySpeed\": 4, \"x\":400 , \"y\":350 }\n  ],\n  \"level3\":[\n    {\"multiplier\":4, \"xSpeed\":1, \"ySpeed\": 4, \"x\":100 , \"y\":350 },\n    {\"multiplier\":4, \"xSpeed\":1, \"ySpeed\": 4, \"x\":600 , \"y\":350 },\n    {\"multiplier\":2, \"xSpeed\":1, \"ySpeed\": 4, \"x\":300 , \"y\":350 }\n  ],\n  \"level4\":[\n    {\"multiplier\":8, \"xSpeed\":1, \"ySpeed\": 4, \"x\":100 , \"y\":350 },\n    {\"multiplier\":8, \"xSpeed\":1, \"ySpeed\": 4, \"x\":400 , \"y\":350 }\n  ]\n}\n","//requires module\nconst Player = require(\"./Player.es6\");\nconst KeyView = require(\"./KeyView.es6\");\nconst CanvasView = require(\"./CanvasView.es6\");\nconst Particle = require(\"./Particle.es6\");\nconst Bullet = require(\"./Bullet.es6\");\nconst StartLevel = require(\"./StartLevel.es6\");\n\nclass Controller {\n    constructor() {\n        this.player = new Player();\n        this.key = new KeyView();\n        this.canvas = new CanvasView();\n        this.start = new StartLevel(this.player.level);\n        this.part = [];\n        this.bullets = [];\n        this.player.area(this.canvas.canvasValues);\n        this.levels = require(\"./levels.json\");\n\n        this.getHighscores();\n        this.gameSetup();\n    }\n\n    loadDoc(score, name) {\n        let xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n            if (this.readyState == 4 && this.status == 200) {\n                this.responseText;\n            }\n        };\n        xhttp.open(\"GET\", \"/getHighscores?onlyShow=false&highscore=\"+ score +\"&name=\"+ name, true);\n        xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        xhttp.send();\n    }\n\n    getHighscores() {\n        let xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function() {\n            if (this.readyState == 4 && this.status == 200) {\n                contr.showHighscores(JSON.parse(this.responseText));\n            }\n        };\n        xhttp.open(\"GET\", \"/getHighscores?onlyShow=true\");\n        xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        xhttp.send();\n    }\n\n    showHighscores(data) {\n        let showScores = document.getElementById(\"highscores\");\n\n        //sorteert de scores op hoogste score\n        let sortedScores = this.sortResults(data);\n\n        //loopen door de gesorteerde scores\n        sortedScores.forEach((o) => {\n            //maakt een div\n            let savedScore = document.createElement(\"div\");\n            savedScore.className = \"score\";\n            savedScore.innerHTML = o.name+\": \"+o.highscore;\n\n            //voegt alles toe aan de class highscores\n            showScores.appendChild(savedScore);\n        });\n    }\n\n    sortResults(data) {\n        return data.highscores.sort(function(a, b) {\n            return b.highscore - a.highscore;\n        });\n    }\n\n    gameSetup() {\n        //kiest level van json\n        let levelObj = this.levels[\"level\"+this.player.level];\n\n        //maakt particles aan\n        levelObj.forEach((o) => {\n            this.part.push(new Particle(o.multiplier, o.xSpeed, o.ySpeed, o.x, o.y));\n        });\n\n        //tekent de startpagina\n        this.canvas.drawStart(this.start.startValues, this.player.level);\n\n        //de game begint na het drukken op de enterknop\n        document.addEventListener(\"keydown\", (keyBoardDown) => {\n            if (this.key.pressed.enter && !this.start.startGame) {\n                this.start.startGame = true;\n                this.loop();\n            }\n        });\n    }\n\n    totalScore() {\n        let message;\n\n        // bekijkt of de speler nog leeft\n        if (this.player.alive) {\n            message = \"Uitgespeeld!\";\n        }\n        else {\n            message = \"Game Over!\"\n        }\n\n        //tekent de score\n        this.canvas.drawEnd(message, this.player.score, this.start.startValues);\n\n        //spel begint opnieuw na het drukken op de enter\n        document.addEventListener(\"keydown\", (keyBoardDown) => {\n            if (this.key.pressed.enter) {\n                let name = prompt(\"Wat is je naam?\");\n\n                //De score en naam wordt toegevoegd\n                this.loadDoc(this.player.score, name);\n                location.reload();\n            }\n        });\n    }\n\n    loop() {\n        //maakt de canvas schoon\n        this.canvas.clear();\n\n        //foreach voor elke particle\n        this.part.forEach((p) => {\n            p.area(this.canvas.canvasValues);\n            p.move();\n            this.canvas.draw(p.posPart);\n\n            //bepaalt of de particle de speler heeft geraakt\n            let hitByPlayer = this.player.hit(p.posPart);\n            let xSpeed = p.xSpeed;\n\n            //bekijkt of de particle de bullet heeft geraakt\n            this.bullets.forEach((b) => {\n                if (b.hit(p.posPart)) {\n                    this.player.score += 50*p.multiplier;\n                    if (p.hitted()) {\n                        //zorgt ervoor dat er een kopie komt die de andere kant op springt\n                        if (p.xSpeed >= 0) {\n                            xSpeed = -Math.abs(p.xSpeed);\n                        }\n                        else {\n                            xSpeed = Math.abs(p.xSpeed);\n                        }\n                        //maakt een kopie aan\n                        this.part.push(new Particle(p.multiplier, xSpeed, p.ySpeed, p.x, p.y));\n                    }\n                }\n            });\n\n            //het gedrag van de particle als die de speler heeft geraakt\n            if (hitByPlayer) {\n                if (p.hitted()) {\n                    if (p.xSpeed >= 0) {\n                        xSpeed = -Math.abs(p.xSpeed);\n                    }\n                    else {\n                        xSpeed = Math.abs(p.xSpeed);\n                    }\n                    this.part.push(new Particle(p.multiplier, xSpeed, p.ySpeed, p.x, p.y));\n                }\n            }\n        });\n\n\n        //filter de particles die niet meer bruikbaar zijn\n        this.part = this.part.filter (function(p) {\n            return p.isDead == false;\n        });\n\n        //waardes van de key worden doorgestuurd en de speler beweegt\n        this.player.key(this.key.pressed);\n\n        //wanneer de speler schiet\n        if (this.player.shooted) {\n            //kijkt of de kogel geschoten mag worden en checkt het wapen\n            if (this.player.weapon == \"normal\" && this.bullets.length < 1 ) {\n                this.bullets.push(new Bullet(this.player.player));\n            }\n            //er mag nu geen kogel meer afgevuurd worden\n            this.player.shooted = false;\n        }\n\n        //loopt door de kogels heen\n        this.bullets.forEach((b) => {\n            b.move(this.canvas.canvasValues);\n            this.canvas.draw(b.bullet);\n        });\n\n        //kogels filteren\n        this.bullets = this.bullets.filter (function(b) {\n            return b.isDead == false;\n        });\n\n        //speler tekenen\n        this.canvas.draw(this.player.player);\n\n        //score weergeven\n        this.player.scoreTotal();\n\n        // regelt de timing\n        if (this.player.life <= 0) {\n            this.player.alive = false;\n            this.totalScore();\n            return false;\n        }\n\n        //controlleert of alle particles weg zijn\n        if (this.part.length <= 0) {\n            //checkt of de speler in het laatste level zit\n            if (this.player.level >= Object.keys(this.levels).length-1) {\n                this.totalScore();\n                return false;\n            }\n\n            //alles wordt gereset voor het volgende level\n            this.player.level++;\n            this.player.score += 200;\n            this.player.xPos = 0;\n            this.bullets = [];\n            this.start.startGame = false;\n            this.gameSetup();\n        }\n\n        //laat het spel lopen als de speler nog steeds bezig is met het level\n        if (this.start.startGame) {\n            window.requestAnimationFrame(() => {\n                this.loop();\n            });\n        }\n    }\n}\n\nconst contr = new Controller();\n"]}