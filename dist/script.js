!function t(e,i,s){function n(h,a){if(!i[h]){if(!e[h]){var o="function"==typeof require&&require;if(!a&&o)return o(h,!0);if(r)return r(h,!0);var l=new Error("Cannot find module '"+h+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[h]={exports:{}};e[h][0].call(c.exports,function(t){var i=e[h][1][t];return n(i?i:t)},c,c.exports,t,e,i,s)}return i[h].exports}for(var r="function"==typeof require&&require,h=0;h<s.length;h++)n(s[h]);return n}({1:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(){function t(e){s(this,t),this.width=1,this.height=1,this.x=e.x+e.width/2,this.y=e.y+e.height,this.ySpeed=-5,this.color="#00f",this.isDead=!1}return n(t,[{key:"move",value:function(t){this.height+=this.ySpeed,Math.abs(this.height)>=t.height&&(this.isDead=!0)}},{key:"hit",value:function(t){if(t)return t.x+t.width>=this.x&&t.x<=this.x&&t.y+t.height>=this.y+this.height&&(this.isDead=!0,!0)}},{key:"bullet",get:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,color:this.color}}}]),t}();e.exports=r},{}],2:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(){function t(){s(this,t),this.c=document.getElementById("myCanvas"),this.ctx=this.c.getContext("2d")}return n(t,[{key:"clear",value:function(){this.ctx.clearRect(0,0,this.c.width,this.c.height)}},{key:"draw",value:function(t){this.ctx.fillStyle=t.color,this.ctx.fillRect(t.x,t.y,t.width,t.height)}},{key:"drawStart",value:function(t,e){this.ctx.fillStyle=t.background,this.ctx.fillRect(0,0,this.c.width,this.c.height),this.ctx.font=t.font,this.ctx.fillStyle=t.color,this.ctx.textAlign=t.align,this.ctx.strokeText("Druk op enter om Level "+e+" te starten",this.c.width/2,t.y),this.ctx.strokeText("Schieten: spatie. Lopen: Pijltoetsen",this.c.width/2,50)}},{key:"drawEnd",value:function(t,e,i){this.ctx.fillStyle=i.background,this.ctx.fillRect(0,0,this.c.width,this.c.height),this.ctx.font=i.font,this.ctx.fillStyle=i.color,this.ctx.textAlign=i.align,this.ctx.strokeText(t+" Score: "+e,this.c.width/2,i.y)}},{key:"canvasValues",get:function(){return{width:this.c.width,height:this.c.height}}}]),t}();e.exports=r},{}],3:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(){function t(){var e=this;s(this,t),this.left=!1,this.right=!1,this.space=!1,this.enter=!1,document.addEventListener("keydown",function(t){e.right=39==t.keyCode,e.left=37==t.keyCode,e.space=32==t.keyCode,e.enter=13==t.keyCode}),document.addEventListener("keyup",function(t){39==t.keyCode?e.right=!1:37==t.keyCode?e.left=!1:32==t.keyCode?e.space=!1:32==t.keyCode&&(e.enter=!1)})}return n(t,[{key:"pressed",get:function(){return{left:this.left,right:this.right,space:this.space,enter:this.enter}}}]),t}();e.exports=r},{}],4:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(){function t(e,i,n,r,h){s(this,t),this.widthStandard=10,this.heightStandard=10,this.multiplier=e,this.xSpeed=i,this.ySpeed=n,this.isDead=!1,this.color="rgba(23,44,56,1)",this.gravity=-1.001,this.width=this.widthStandard*this.multiplier,this.height=this.heightStandard*this.multiplier,this.x=r,this.y=h}return n(t,[{key:"area",value:function(t){this.canvasWidth=t.width,this.canvasHeight=t.height}},{key:"move",value:function(){this.ySpeed+=.1,this.y+=this.ySpeed,this.x+=this.xSpeed,this.y>=this.canvasHeight-this.height&&(this.y=this.canvasHeight-this.height,this.ySpeed*=this.gravity),this.x>=this.canvasWidth-this.width&&(this.x=this.canvasWidth-this.width,this.xSpeed*=this.gravity),this.x<=0&&(this.x=0,this.xSpeed=1)}},{key:"hitted",value:function(){return this.multiplier<=1?(this.isDead=!0,!1):(this.multiplier=this.multiplier/2,this.width=this.widthStandard*this.multiplier,this.height=this.heightStandard*this.multiplier,this.ySpeed*=this.gravity,!0)}},{key:"posPart",get:function(){return{width:this.width,height:this.height,x:this.x,y:this.y,color:this.color}}}]),t}();e.exports=r},{}],5:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(){function t(){s(this,t),this.width=20,this.height=20,this.xPos=0,this.life=1,this.alive=!0,this.speed=2,this.color="rgba(67,234,12,1)",this.shooted=!1,this.weapon="normal",this.level=0,this.score=0}return n(t,[{key:"area",value:function(t){this.canvasWidth=t.width,this.canvasHeight=t.height,this.yPos=this.canvasHeight-this.height}},{key:"key",value:function(t){return(t.left||t.right)&&this.move(t),t.space&&(this.shooted=!0),this.shooted}},{key:"move",value:function(t){t.left&&!t.right&&(this.xPos-=this.speed),t.right&&!t.left&&(this.xPos+=this.speed),this.outline(),this.hit()}},{key:"outline",value:function(){this.xPos<=0?this.xPos=0:void 0,this.xPos>=this.canvasWidth-this.width?this.xPos=this.canvasWidth-this.width:void 0}},{key:"hit",value:function(t){var e=this;if(t)return t.x+t.width>=this.xPos&&t.x<=this.xPos+this.width&&t.y+t.height>=this.yPos&&t.y<=this.yPos+this.height&&(this.life=this.life-1,this.color="rgba(255,0,0,1)",setTimeout(function(){e.color="rgba(0,254,0,1)"},100),!0)}},{key:"scoreTotal",value:function(){document.getElementById("score").innerHTML="Jouw score: "+this.score}},{key:"getLife",value:function(){this.life+=3}},{key:"player",get:function(){return{width:this.width,height:this.height,x:this.xPos,y:this.yPos,color:this.color,life:this.life,weapon:this.weapon,level:this.level}}}]),t}();e.exports=r},{}],6:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=function(){function t(){s(this,t),this.backgroundColor="#ff0",this.x=50,this.y=250,this.font="20px Arial",this.color="#000",this.align="center",this.startGame=!1}return n(t,[{key:"startValues",get:function(){return{background:this.backgroundColor,y:this.y,font:this.font,color:this.color,align:this.align}}}]),t}();e.exports=r},{}],7:[function(t,e,i){e.exports={level0:[{multiplier:1,xSpeed:1,ySpeed:4,x:100,y:350},{multiplier:1,xSpeed:1,ySpeed:4,x:300,y:350},{multiplier:1,xSpeed:1,ySpeed:4,x:500,y:350}],level1:[{multiplier:2,xSpeed:1,ySpeed:4,x:100,y:350},{multiplier:2,xSpeed:1,ySpeed:4,x:300,y:350}],level2:[{multiplier:2,xSpeed:1,ySpeed:4,x:100,y:350},{multiplier:2,xSpeed:1,ySpeed:4,x:500,y:350},{multiplier:1,xSpeed:1,ySpeed:4,x:200,y:350},{multiplier:1,xSpeed:1,ySpeed:4,x:300,y:350},{multiplier:1,xSpeed:1,ySpeed:4,x:400,y:350}],level3:[{multiplier:4,xSpeed:1,ySpeed:4,x:100,y:350},{multiplier:4,xSpeed:1,ySpeed:4,x:600,y:350},{multiplier:2,xSpeed:1,ySpeed:4,x:300,y:350}],level4:[{multiplier:8,xSpeed:1,ySpeed:4,x:100,y:350},{multiplier:8,xSpeed:1,ySpeed:4,x:400,y:350}]}},{}],8:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=t("./Player.es6"),h=t("./KeyView.es6"),a=t("./CanvasView.es6"),o=t("./Particle.es6"),l=t("./Bullet.es6"),c=t("./StartLevel.es6"),u=function(){function e(){s(this,e),this.player=new r,this.key=new h,this.canvas=new a,this.start=new c(this.player.level),this.part=[],this.bullets=[],this.player.area(this.canvas.canvasValues),this.levels=t("./levels.json"),this.getHighscores(),this.gameSetup()}return n(e,[{key:"loadDoc",value:function(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4==this.readyState&&200==this.status&&this.responseText},i.open("GET","/getHighscores?onlyShow=false&highscore="+t+"&name="+e,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send()}},{key:"getHighscores",value:function(){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&p.showHighscores(JSON.parse(this.responseText))},t.open("GET","/getHighscores?onlyShow=true"),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send()}},{key:"showHighscores",value:function(t){var e=document.getElementById("highscores"),i=this.sortResults(t);i.forEach(function(t){var i=document.createElement("div");i.className="score",i.innerHTML=t.name+": "+t.highscore,e.appendChild(i)})}},{key:"sortResults",value:function(t){return t.highscores.sort(function(t,e){return e.highscore-t.highscore})}},{key:"gameSetup",value:function(){var t=this,e=this.levels["level"+this.player.level];e.forEach(function(e){t.part.push(new o(e.multiplier,e.xSpeed,e.ySpeed,e.x,e.y))}),this.canvas.drawStart(this.start.startValues,this.player.level),document.addEventListener("keydown",function(e){t.key.pressed.enter&&!t.start.startGame&&(t.start.startGame=!0,t.loop())})}},{key:"totalScore",value:function(){var t=this,e=void 0;e=this.player.alive?"Uitgespeeld!":"Game Over!",this.canvas.drawEnd(e,this.player.score,this.start.startValues),document.addEventListener("keydown",function(e){if(t.key.pressed.enter){var i=prompt("Wat is je naam?");t.loadDoc(t.player.score,i)}})}},{key:"loop",value:function(){var t=this;if(this.canvas.clear(),this.part.forEach(function(e){e.area(t.canvas.canvasValues),e.move(),t.canvas.draw(e.posPart);var i=t.player.hit(e.posPart),s=e.xSpeed;t.bullets.forEach(function(i){i.hit(e.posPart)&&(t.player.score+=50*e.multiplier,e.hitted()&&(s=e.xSpeed>=0?-Math.abs(e.xSpeed):Math.abs(e.xSpeed),t.part.push(new o(e.multiplier,s,e.ySpeed,e.x,e.y))))}),i&&e.hitted()&&(s=e.xSpeed>=0?-Math.abs(e.xSpeed):Math.abs(e.xSpeed),t.part.push(new o(e.multiplier,s,e.ySpeed,e.x,e.y)))}),this.part=this.part.filter(function(t){return 0==t.isDead}),this.player.key(this.key.pressed),this.player.shooted&&("normal"==this.player.weapon&&this.bullets.length<1&&this.bullets.push(new l(this.player.player)),this.player.shooted=!1),this.bullets.forEach(function(e){e.move(t.canvas.canvasValues),t.canvas.draw(e.bullet)}),this.bullets=this.bullets.filter(function(t){return 0==t.isDead}),this.canvas.draw(this.player.player),this.player.scoreTotal(),this.player.life<=0)return this.player.alive=!1,this.totalScore(),!1;if(this.part.length<=0){if(this.player.level>=Object.keys(this.levels).length-1)return this.totalScore(),!1;this.player.level++,this.player.score+=200,this.player.xPos=0,this.bullets=[],this.start.startGame=!1,this.gameSetup()}this.start.startGame&&window.requestAnimationFrame(function(){t.loop()})}}]),e}(),p=new u},{"./Bullet.es6":1,"./CanvasView.es6":2,"./KeyView.es6":3,"./Particle.es6":4,"./Player.es6":5,"./StartLevel.es6":6,"./levels.json":7}]},{},[8]);
//# sourceMappingURL=script.js.map
